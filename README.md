# PyroTrack 智能进销存系统

PyroTrack 是一个基于 React + Vite + Tailwind CSS 构建的现代化进销存管理系统。支持双仓（爽仓/峰仓）库存管理、DeepSeek 智能文本解析录入、以及详细的利润统计分析。

## 功能特性

- **智能录入**: 支持通过正则或 DeepSeek AI 识别非结构化的出库文本（微信/记事本粘贴）。
- **双仓管理**: 自动计算并分配库存到“爽仓”和“峰仓”。
- **数据隐私**: 数据默认存储在浏览器本地数据库 (IndexedDB)，安全且持久。
- **统计分析**: 提供经手人排名、商品-人员矩阵分布、以及多维度的利润报表。

---

## 🚀 阿里云服务器部署指南

本指南将指导您如何将项目部署到阿里云 ECS 服务器（CentOS/Ubuntu），并通过公网 IP 访问。

### 方式一：生产环境部署 (推荐 - Nginx)

这种方式将所有依赖打包到静态文件中，**完全不需要运行时从公网下载依赖**，适合纯内网或稳定生产环境。

#### 1. 准备工作
1.  **购买 ECS**: 购买一台阿里云 ECS 实例（推荐 Ubuntu 20.04/22.04 或 CentOS 7+）。
2.  **配置安全组**:
    - 登录阿里云控制台 -> ECS 实例 -> 安全组 -> 配置规则。
    - **入方向** 添加规则：协议类型 `HTTP (80)`，授权对象 `0.0.0.0/0`。

#### 2. 本地构建项目 (包含所有依赖)
在您的本地电脑上执行以下命令：

```bash
# 1. 安装所有依赖到本地 node_modules
npm install

# 2. 打包构建 (Vite 会将 React, Tailwind 等所有库编译进 dist 目录)
npm run build
```

构建完成后，项目根目录下会生成一个 `dist` 文件夹。该文件夹包含了运行所需的**所有代码和资源**。

#### 3. 配置服务器环境 (以 Ubuntu 为例)
使用 SSH 登录您的服务器：

```bash
ssh root@<您的公网IP>
```

安装 Nginx：

```bash
apt update
apt install nginx -y
systemctl start nginx
systemctl enable nginx
```

#### 4. 上传文件
将本地 `dist` 文件夹内的文件上传到服务器的 Nginx 目录。

*在本地终端执行上传:*
```bash
scp -r dist/* root@<您的公网IP>:/var/www/html/
```

#### 5. 访问
打开浏览器，输入您的 **公网 IP** 即可访问。此时应用运行完全依赖服务器上的文件，不再请求任何 CDN。

---

### 方式二：开发模式预览

如果您需要在服务器上进行代码修改和调试：

1.  **环境准备**: 服务器需安装 Node.js (v18+)。
2.  **上传源码**: 上传除了 `dist` 和 `node_modules` 之外的所有文件。
3.  **安装并运行**:

```bash
# 安装依赖 (会下载依赖包到服务器的 node_modules)
npm install

# 启动服务
npm run dev -- --host
```

4.  **访问**: `http://<您的公网IP>:3000`

---

## 关于数据存储

本项目采用 **IndexedDB** 进行数据存储：
- 所有数据（库存、历史记录、API Key）都保存在**访问者的浏览器**中。
- 服务器端仅作为静态资源服务器，不接触业务数据。
